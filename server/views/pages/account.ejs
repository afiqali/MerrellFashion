<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>
        <%= title %>
    </title>

    <% include ../partials/stylesheetPRODUCT %>
    <!-- Custom styles for this template -->
    <link href="/public/stylesheets/logo-nav.css" rel="stylesheet">
    <link href="/public/stylesheets/simple-sidebar.css" rel="stylesheet">
</head>

<body>
    <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="/">Merrell Fashion</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item active">
                <a class="nav-link" href="/">Home
                  <span class="sr-only">(current)</span>
                </a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="/account">Account</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/profile">Profile</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/products-gallery">Products</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/messages"> Chat </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/offerSeller"> inboxOffer </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/offerBuyer"> Offers </a>
            </li>
            </ul>
          </div>
        </div>
      </nav>

    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="/account">
                        My Account
                    </a>
                </li>
                <li>
                    <a href="/account">Profile</a>
                </li>
                <li>
                    <a href="/trackorder">Order status</a>
                </li>
                <li>
                    <a href="/trxhistory">Payment history</a>
                </li>
                <li>
                    <a href="#">e-wallet</a>
                </li>
            </ul>
        </div>

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">

                <% if (message.length > 0) { %>
                    <div class="alert alert-success alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <%= message %>.  
                    </div>
                <% } %>

                <div class="row justify-content-center">
                    <div class="col-sm-12">

                        <% users.forEach(function(user){ %>

                            <button data-toggle="modal" data-target="#myModal" class="rounded-circle mx-auto d-block" width="150" height="150" style="border-radius:50%">
                                <img class="rounded-circle" width="150" height="150" src="/public/images/<%= user.img %>" style="border-radius:50%" />
                            </button>
                            <br>
                            
                            <form action="/account" method="post" enctype="multipart/form-data">
                                <div class="form-group text-center">
                                    <label for="file" class="file">Profile picture
                                        <input type="file" id="image" name="image" class="form-control" value="<%= user.img %>">
                                        <span class="file-custom"></span>
                                    </label>
                                </div>

                                <div class="form-group">
                                    <label for="inputName">Name</label>
                                    <input type="text" required id="name" name="name" class="form-control" value=<%=user.name %>>
                                </div>

                                <div class="form-group">
                                    <label for="inputEmail">Email address</label>
                                    <input type="email" required pattern=".*[@].*[.].*" oninvalid="setCustomValidity('name@domain')" oninput="setCustomValidity('')" id="email" name="email" class="form-control" value=<%=user.email %>>
                                </div>

                                <div class="form-group">
                                    <label for="inputGender">Gender</label>
                                    <input class="form-control" list="gender" name="gender" value=<%=user.gender %>>
                                    <datalist id="gender">
                                        <option value="Female">
                                        <option value="Male">
                                    </datalist>
                                </div>

                                <div class="form-group">
                                    <label for="inputBirthday">Birthday</label>
                                    <input class="form-control" type="date" id="dob" name="dob" value=<%=user.dob %> >
                                </div>

                                <div class="form-group">
                                    <label for="inputContactNum">Contact number</label>
                                    <input type="text" required pattern="[98][0-9]{7}" oninvalid="setCustomValidity('8 digit number with \'9\'/\'8\' as the first digit')" oninput="setCustomValidity('')" id="contactNumber" name="contactNumber" class="form-control" value=<%=user.contactNumber%> >
                                </div>

                                <div class="form-group">
                                    <label for="inputAddress">Address</label>
                                    <input type="text" id="address" name="address" class="form-control" required="" value=<%=user.address %>>
                                </div>

                                <% }); %>

                                <button class="btn btn-lg btn-primary btn-block" type="submit">Save</button>
                            </form>
                            
                            <a href="/changepassword" class="btn btn-lg btn-primary btn-block">Change password</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <% include ../partials/footer2 %>

    <% include ../partials/javascript %>

    <script> 
        // $("#menu-toggle").click(function (e) {
        //     e.preventDefault();
        //     $("#wrapper").toggleClass("toggled");
        // });
    </script>
</body>